{"uid":"44a0e4b1bef06be1","name":"test_01_phone_login","fullName":"tests.test_00_login.TestLogin#test_01_phone_login","historyId":"6bbda9dd678259dc795c231e4fb7cb31","time":{"start":1656057349314,"stop":1656057387520,"duration":38206},"description":"登录账号","descriptionHtml":"<p>登录账号</p>\n","status":"broken","statusMessage":"Exception: ('element not found', 'timeout 30.0')","statusTrace":"args = (<pageObject.login.Login object at 0x7fbb75648190>,), kwargs = {}\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        try:\n            log.i('--> %s' % func.__qualname__)\n>           return func(*args, **kwargs)\n\ncommon/decorator.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pageObject.login.Login object at 0x7fbb75648190>\n\n    @allure.step('在更多登录方式抽屉中 勾选已阅读并同意协议')\n    @step\n    def select_agreement_box_window(self):\n        # 在更多登录方式抽屉中 勾选已阅读并同意协议\n        log.i(\"在更多登录方式抽屉中 勾选已阅读并同意协议\")\n>       self.s(xpath=\"//Window[1]/Other[1]/Other[1]/Other[1]/Other[1]/Other[1]/Other[1]/Other[1]/Other[4]/Other[2]/Button[1]\").click()\n\npageObject/login.py:76: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <wda.Selector object at 0x7fbb748339d0>, timeout = None\n\n    def click(self, timeout: Optional[float] = None):\n        \"\"\"\n        Click element\n    \n        Args:\n            timeout (float): max wait seconds\n        \"\"\"\n>       e = self.get(timeout=timeout)\n\nvenv/lib/python3.9/site-packages/wda/__init__.py:1552: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <wda.Selector object at 0x7fbb748339d0>, timeout = 30.0\nraise_error = True\n\n    def get(self, timeout=None, raise_error=True):\n        \"\"\"\n        Args:\n            timeout (float): timeout for query element, unit seconds\n                Default 10s\n            raise_error (bool): whether to raise error if element not found\n    \n        Returns:\n            Element: UI Element\n    \n        Raises:\n            WDAElementNotFoundError if raise_error is True else None\n        \"\"\"\n        start_time = time.time()\n        if timeout is None:\n            timeout = self._timeout\n        while True:\n            elems = self.find_elements()\n            if len(elems) > 0:\n                return elems[0]\n            if start_time + timeout < time.time():\n                break\n            time.sleep(0.5)\n    \n        if raise_error:\n>           raise WDAElementNotFoundError(\"element not found\",\n                                          \"timeout %.1f\" % timeout)\nE           wda.exceptions.WDAElementNotFoundError: ('element not found', 'timeout 30.0')\n\nvenv/lib/python3.9/site-packages/wda/__init__.py:1513: WDAElementNotFoundError\n\nDuring handling of the above exception, another exception occurred:\n\nargs = (<test_00_login.TestLogin object at 0x7fbb75954250>,), kwargs = {}\ngif_name = '/Users/jike/PycharmProjects/pythonProject/TestReport/iPhoneX_cea307eb34fb7a0ebc2b6402e62de9bdb55cebfa/1656057386332.gif'\nf = <_io.BufferedReader name='/Users/jike/PycharmProjects/pythonProject/TestReport/iPhoneX_cea307eb34fb7a0ebc2b6402e62de9bdb55cebfa/1656057386332.gif'>\nfile = b'GIF89ae\\x04\\x84\\t\\x87\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xfd\\xff\\xff\\xf3\\xff\\xfd\\xff\\xff\\xfd\\xf8\\xff\\xea\\x82\\xff\\xcd\\x10\\xf...\\x92\\x94RI\\x12%\\x97mH\\xe7qI\\xd7\\x95\\xbdV\\x96fy\\x96h\\x99\\x96j\\xb9\\x96\\x0el\\xd9\\x96n\\xf9\\x96p\\x19\\x97r\\xa9<\\x01\\x01\\x00;'\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        try:\n            log.d('\\n--> %s', func.__qualname__)\n>           ret = func(*args, **kwargs)\n\ncommon/decorator.py:104: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <test_00_login.TestLogin object at 0x7fbb75954250>\n\n    @allure.description(\"登录账号\")\n    @case\n    def test_01_phone_login(self):\n>       login.phone_login(\"14030073007\", \"123456\")\n\ntests/test_00_login.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nphone = '14030073007', password = '123456'\n\n    def phone_login(phone, password):\n        # page.select_agreement_update_agree()\n        page.select_more_login_window()\n        page.select_phone_login()\n>       page.select_agreement_box_window()\n\npageObject/login.py:157: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\na = (<pageObject.login.Login object at 0x7fbb75648190>,), kw = {}\n__tracebackhide__ = True\nparams = OrderedDict([('args', '(<pageObject.login.Login object at 0x7fbb75648190>,)')])\nargs = ['<pageObject.login.Login object at 0x7fbb75648190>']\n\n    @wraps(func)\n    def impl(*a, **kw):\n        __tracebackhide__ = True\n        params = func_parameters(func, *a, **kw)\n        args = list(map(lambda x: represent(x), a))\n        with StepContext(self.title.format(*args, **params), params):\n>           return func(*a, **kw)\n\nvenv/lib/python3.9/site-packages/allure_commons/_allure.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nargs = (<pageObject.login.Login object at 0x7fbb75648190>,), kwargs = {}\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        try:\n            log.i('--> %s' % func.__qualname__)\n            return func(*args, **kwargs)\n        except requests.ConnectionError:\n            print(\"ConnectionError\")\n            reset_driver()\n            func(*args, **kwargs)\n        except Exception as e:\n            log.e('\\t<-- %s, %s, %s', func.__qualname__, 'Exception', e)\n>           raise Exception(e)\nE           Exception: ('element not found', 'timeout 30.0')\n\ncommon/decorator.py:90: Exception\n\nDuring handling of the above exception, another exception occurred:\n\nargs = (<test_00_login.TestLogin object at 0x7fbb75954250>,), kwargs = {}\ngif_name = '/Users/jike/PycharmProjects/pythonProject/TestReport/iPhoneX_cea307eb34fb7a0ebc2b6402e62de9bdb55cebfa/1656057386332.gif'\nf = <_io.BufferedReader name='/Users/jike/PycharmProjects/pythonProject/TestReport/iPhoneX_cea307eb34fb7a0ebc2b6402e62de9bdb55cebfa/1656057386332.gif'>\nfile = b'GIF89ae\\x04\\x84\\t\\x87\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xfd\\xff\\xff\\xf3\\xff\\xfd\\xff\\xff\\xfd\\xf8\\xff\\xea\\x82\\xff\\xcd\\x10\\xf...\\x92\\x94RI\\x12%\\x97mH\\xe7qI\\xd7\\x95\\xbdV\\x96fy\\x96h\\x99\\x96j\\xb9\\x96\\x0el\\xd9\\x96n\\xf9\\x96p\\x19\\x97r\\xa9<\\x01\\x01\\x00;'\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        try:\n            log.d('\\n--> %s', func.__qualname__)\n            ret = func(*args, **kwargs)\n            log.d('<-- %s, %s', func.__qualname__, 'Success')\n            return ret\n        except wda.WDAElementNotFoundError:\n            print(\"WDAElementNotFoundError\")\n            log.d('\\n--> %s', func.__qualname__)\n            ret = func(*args, **kwargs)\n            log.d('<-- %s, %s', func.__qualname__, 'Success')\n            return ret\n        except Exception as e:\n            log.e('<-- %s, %s, %s\\n', func.__qualname__, 'Exception', e)\n>           raise Exception(e)\nE           Exception: ('element not found', 'timeout 30.0')\n\ncommon/decorator.py:115: Exception","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"xunit_setup_method_fixture_TestLogin","time":{"start":1656057345926,"stop":1656057349313,"duration":3387},"status":"passed","steps":[],"attachments":[{"uid":"510a8a054039dce5","name":"init.activate_app-20220624155546.PNG","source":"510a8a054039dce5.png","type":"image/png","size":491543},{"uid":"f6d23964e18e6720","name":"init.check_login_status-20220624155548.PNG","source":"f6d23964e18e6720.png","type":"image/png","size":491543}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true}],"testStage":{"description":"登录账号","status":"broken","statusMessage":"Exception: ('element not found', 'timeout 30.0')","statusTrace":"args = (<pageObject.login.Login object at 0x7fbb75648190>,), kwargs = {}\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        try:\n            log.i('--> %s' % func.__qualname__)\n>           return func(*args, **kwargs)\n\ncommon/decorator.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pageObject.login.Login object at 0x7fbb75648190>\n\n    @allure.step('在更多登录方式抽屉中 勾选已阅读并同意协议')\n    @step\n    def select_agreement_box_window(self):\n        # 在更多登录方式抽屉中 勾选已阅读并同意协议\n        log.i(\"在更多登录方式抽屉中 勾选已阅读并同意协议\")\n>       self.s(xpath=\"//Window[1]/Other[1]/Other[1]/Other[1]/Other[1]/Other[1]/Other[1]/Other[1]/Other[4]/Other[2]/Button[1]\").click()\n\npageObject/login.py:76: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <wda.Selector object at 0x7fbb748339d0>, timeout = None\n\n    def click(self, timeout: Optional[float] = None):\n        \"\"\"\n        Click element\n    \n        Args:\n            timeout (float): max wait seconds\n        \"\"\"\n>       e = self.get(timeout=timeout)\n\nvenv/lib/python3.9/site-packages/wda/__init__.py:1552: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <wda.Selector object at 0x7fbb748339d0>, timeout = 30.0\nraise_error = True\n\n    def get(self, timeout=None, raise_error=True):\n        \"\"\"\n        Args:\n            timeout (float): timeout for query element, unit seconds\n                Default 10s\n            raise_error (bool): whether to raise error if element not found\n    \n        Returns:\n            Element: UI Element\n    \n        Raises:\n            WDAElementNotFoundError if raise_error is True else None\n        \"\"\"\n        start_time = time.time()\n        if timeout is None:\n            timeout = self._timeout\n        while True:\n            elems = self.find_elements()\n            if len(elems) > 0:\n                return elems[0]\n            if start_time + timeout < time.time():\n                break\n            time.sleep(0.5)\n    \n        if raise_error:\n>           raise WDAElementNotFoundError(\"element not found\",\n                                          \"timeout %.1f\" % timeout)\nE           wda.exceptions.WDAElementNotFoundError: ('element not found', 'timeout 30.0')\n\nvenv/lib/python3.9/site-packages/wda/__init__.py:1513: WDAElementNotFoundError\n\nDuring handling of the above exception, another exception occurred:\n\nargs = (<test_00_login.TestLogin object at 0x7fbb75954250>,), kwargs = {}\ngif_name = '/Users/jike/PycharmProjects/pythonProject/TestReport/iPhoneX_cea307eb34fb7a0ebc2b6402e62de9bdb55cebfa/1656057386332.gif'\nf = <_io.BufferedReader name='/Users/jike/PycharmProjects/pythonProject/TestReport/iPhoneX_cea307eb34fb7a0ebc2b6402e62de9bdb55cebfa/1656057386332.gif'>\nfile = b'GIF89ae\\x04\\x84\\t\\x87\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xfd\\xff\\xff\\xf3\\xff\\xfd\\xff\\xff\\xfd\\xf8\\xff\\xea\\x82\\xff\\xcd\\x10\\xf...\\x92\\x94RI\\x12%\\x97mH\\xe7qI\\xd7\\x95\\xbdV\\x96fy\\x96h\\x99\\x96j\\xb9\\x96\\x0el\\xd9\\x96n\\xf9\\x96p\\x19\\x97r\\xa9<\\x01\\x01\\x00;'\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        try:\n            log.d('\\n--> %s', func.__qualname__)\n>           ret = func(*args, **kwargs)\n\ncommon/decorator.py:104: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <test_00_login.TestLogin object at 0x7fbb75954250>\n\n    @allure.description(\"登录账号\")\n    @case\n    def test_01_phone_login(self):\n>       login.phone_login(\"14030073007\", \"123456\")\n\ntests/test_00_login.py:33: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nphone = '14030073007', password = '123456'\n\n    def phone_login(phone, password):\n        # page.select_agreement_update_agree()\n        page.select_more_login_window()\n        page.select_phone_login()\n>       page.select_agreement_box_window()\n\npageObject/login.py:157: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\na = (<pageObject.login.Login object at 0x7fbb75648190>,), kw = {}\n__tracebackhide__ = True\nparams = OrderedDict([('args', '(<pageObject.login.Login object at 0x7fbb75648190>,)')])\nargs = ['<pageObject.login.Login object at 0x7fbb75648190>']\n\n    @wraps(func)\n    def impl(*a, **kw):\n        __tracebackhide__ = True\n        params = func_parameters(func, *a, **kw)\n        args = list(map(lambda x: represent(x), a))\n        with StepContext(self.title.format(*args, **params), params):\n>           return func(*a, **kw)\n\nvenv/lib/python3.9/site-packages/allure_commons/_allure.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nargs = (<pageObject.login.Login object at 0x7fbb75648190>,), kwargs = {}\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        try:\n            log.i('--> %s' % func.__qualname__)\n            return func(*args, **kwargs)\n        except requests.ConnectionError:\n            print(\"ConnectionError\")\n            reset_driver()\n            func(*args, **kwargs)\n        except Exception as e:\n            log.e('\\t<-- %s, %s, %s', func.__qualname__, 'Exception', e)\n>           raise Exception(e)\nE           Exception: ('element not found', 'timeout 30.0')\n\ncommon/decorator.py:90: Exception\n\nDuring handling of the above exception, another exception occurred:\n\nargs = (<test_00_login.TestLogin object at 0x7fbb75954250>,), kwargs = {}\ngif_name = '/Users/jike/PycharmProjects/pythonProject/TestReport/iPhoneX_cea307eb34fb7a0ebc2b6402e62de9bdb55cebfa/1656057386332.gif'\nf = <_io.BufferedReader name='/Users/jike/PycharmProjects/pythonProject/TestReport/iPhoneX_cea307eb34fb7a0ebc2b6402e62de9bdb55cebfa/1656057386332.gif'>\nfile = b'GIF89ae\\x04\\x84\\t\\x87\\x00\\x00\\xff\\xff\\xff\\xff\\xff\\xfd\\xff\\xff\\xf3\\xff\\xfd\\xff\\xff\\xfd\\xf8\\xff\\xea\\x82\\xff\\xcd\\x10\\xf...\\x92\\x94RI\\x12%\\x97mH\\xe7qI\\xd7\\x95\\xbdV\\x96fy\\x96h\\x99\\x96j\\xb9\\x96\\x0el\\xd9\\x96n\\xf9\\x96p\\x19\\x97r\\xa9<\\x01\\x01\\x00;'\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        try:\n            log.d('\\n--> %s', func.__qualname__)\n            ret = func(*args, **kwargs)\n            log.d('<-- %s, %s', func.__qualname__, 'Success')\n            return ret\n        except wda.WDAElementNotFoundError:\n            print(\"WDAElementNotFoundError\")\n            log.d('\\n--> %s', func.__qualname__)\n            ret = func(*args, **kwargs)\n            log.d('<-- %s, %s', func.__qualname__, 'Success')\n            return ret\n        except Exception as e:\n            log.e('<-- %s, %s, %s\\n', func.__qualname__, 'Exception', e)\n>           raise Exception(e)\nE           Exception: ('element not found', 'timeout 30.0')\n\ncommon/decorator.py:115: Exception","steps":[{"name":"检查更多登录方式","time":{"start":1656057349314,"stop":1656057351710,"duration":2396},"status":"passed","steps":[],"attachments":[{"uid":"c49ad658aaddf68","name":"Login.select_more_login_window-20220624155551.PNG","source":"c49ad658aaddf68.png","type":"image/png","size":174158}],"parameters":[{"name":"args","value":"(<pageObject.login.Login object at 0x7fbb75648190>,)"}],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"选择手机号登录","time":{"start":1656057351710,"stop":1656057353880,"duration":2170},"status":"passed","steps":[],"attachments":[{"uid":"570607b2a44cc73c","name":"Login.select_phone_login-20220624155553.PNG","source":"570607b2a44cc73c.png","type":"image/png","size":250176}],"parameters":[{"name":"args","value":"(<pageObject.login.Login object at 0x7fbb75648190>,)"}],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"在更多登录方式抽屉中 勾选已阅读并同意协议","time":{"start":1656057353880,"stop":1656057385917,"duration":32037},"status":"broken","statusMessage":"Exception: ('element not found', 'timeout 30.0')\n","statusTrace":"  File \"/Users/jike/PycharmProjects/pythonProject/venv/lib/python3.9/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/Users/jike/PycharmProjects/pythonProject/common/decorator.py\", line 90, in wrapper\n    raise Exception(e)\n","steps":[],"attachments":[{"uid":"b25ebef163d3936b","name":"Login.select_agreement_box_window-20220624155625.PNG","source":"b25ebef163d3936b.png","type":"image/png","size":471672}],"parameters":[{"name":"args","value":"(<pageObject.login.Login object at 0x7fbb75648190>,)"}],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"a927912292c2c986","name":"case.gif","source":"a927912292c2c986.gif","type":"image/gif","size":676320},{"uid":"af6ba8c22533e0ba","name":"log","source":"af6ba8c22533e0ba.txt","type":"text/plain","size":926}],"parameters":[],"stepsCount":3,"attachmentsCount":5,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"xunit_setup_method_fixture_TestLogin::0","time":{"start":1656057387622,"stop":1656057387622,"duration":0},"status":"broken","statusMessage":"TypeError: stop_app() missing 1 required positional argument: 'pkg_name'\n","statusTrace":"  File \"/Users/jike/PycharmProjects/pythonProject/venv/lib/python3.9/site-packages/allure_commons/_allure.py\", line 200, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/Users/jike/PycharmProjects/pythonProject/venv/lib/python3.9/site-packages/_pytest/fixtures.py\", line 941, in _teardown_yield_fixture\n    next(it)\n  File \"/Users/jike/PycharmProjects/pythonProject/venv/lib/python3.9/site-packages/_pytest/python.py\", line 845, in xunit_setup_method_fixture\n    _call_with_optional_argument(func, method)\n  File \"/Users/jike/PycharmProjects/pythonProject/venv/lib/python3.9/site-packages/_pytest/python.py\", line 741, in _call_with_optional_argument\n    func()\n  File \"/Users/jike/PycharmProjects/pythonProject/tests/test_00_login.py\", line 23, in teardown_method\n    init().stop_app()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"labels":[{"name":"feature","value":"登录"},{"name":"tag","value":"jw"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_00_login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"jikedeMBP-4"},{"name":"thread","value":"30743-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_00_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["jw"]},"source":"44a0e4b1bef06be1.json","parameterValues":[]}